<!-- Source code from the videos from the code. Reused most code: https://www.youtube.com/watch?v=_p4Hgzm_oNQ
Creator is Keith Paterson


-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7LJ1F32J9Y"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7LJ1F32J9Y');
</script>
  <title>Document</title>
  <style>

    body {text-align: center;
    margin-bottom: auto;
    }
    div{
      max-width: 800px;
      margin: auto;
      position: center;
    }


    #firstPerson {position: center; float: left; width: 35%; background-color: #c4820b; color: #1e55c9;}
    #secondPerson {position: center; float: right; width: 35%; background-color: #c4820b; color: #1e55c9;}


    input {width: 120px;}
  </style>


</head>
<body>
<!-- Change here  -->
 <img src = "Banner.png" width = "1400" height="400">

<!-- id's and people info  -->
<div id ="firstPerson" width = "200">

  <h1>First Person</h1>

  <h3 id = "dataName" type = "text"></h3>
  <h3 id="birthday" type="text"></h3>
  <h3 id="animal" type="text"></h3>
  <h3 id="food" type="text"></h3>
  <img id = "image" src= " " width = "200" height="200">

</div>

<div id = "secondPerson">
  <h1>Second Person</h1>
  <h3 id = "dataName2" type = "text"></h3>
  <h3 id="birthday2" type="text"></h3>
  <h3 id="animal2" type="text"></h3>
  <h3 id="food2" type="text"></h3>
  <img id = "image2" src= " " width = "200" height="200">

</div>

<iframe src="https://thunkable.site/w/6bg0qHDIf8Z54wKOoUgiN" title="Chop Down the Tree Thunkable App" height = 700 width = 700></iframe>

<!-- import statement  -->
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyC7AOQIDa4KdydDA3CEVxzs1mcTUkmZHks",
    authDomain: "profile-app-aff05.firebaseapp.com",
    databaseURL: "https://profile-app-aff05-default-rtdb.firebaseio.com",
    projectId: "profile-app-aff05",
    storageBucket: "profile-app-aff05.appspot.com",
    messagingSenderId: "727604090221",
    appId: "1:727604090221:web:18a37800509f1109c97664",
    measurementId: "G-7LJ1F32J9Y"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);




  //THIS IS WHERE YOU PASTE THE CODE TO CONNECT TO YOUR OWN DATABASE
  //Copy and paste the CDN bit of code from your app that you created on Firebase.
  //The script tag above is already there, so careful not to have duplicate script tags.
  //After you've copied and pasted, just delete the unnecessary script tags.


  import {getDatabase, ref, get, set, child, update, remove}
    from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js"
  //Copy and Paste the URL from near the top of the CDN you pasted in from firebase
  // (the one where you imported "initializeApp" from),
  //but change "firebase-app" to "firebase-database"


  const db = getDatabase();

  var enterID = document.querySelector("#enterID");
  var enterName = document.querySelector("#enterName");
  var enterAge = document.querySelector("#enterAge");
  var findID = document.querySelector("#findID");
  var findName = document.querySelector("#findName");
  var findAge = document.querySelector("#findAge");



  var birthday = document.querySelector("#birthday");
  var dataName = document.querySelector("#dataName");
  var image = document.querySelector("#image");
  var animal = document.querySelector("#animal");
  var food = document.querySelector("#food");



  var birthday2 = document.querySelector("#birthday2");
  var dataName2 = document.querySelector("#dataName2");
  var image2 = document.querySelector("#image2");
  var animal2 = document.querySelector("#animal2");
  var food2 = document.querySelector("#food2");





<!-- Functions not used  -->
  function InsertData() {
    set(ref(db, "People/"+ enterID.value),{
      Name: enterName.value,
      ID: enterID.value,
      Age: enterAge.value
    })
            .then(()=>{
              alert("Data added successfully");
            })
            .catch((error)=>{
              alert(error);
            });
  }

  function FindData() {
    const dbref = ref(db);

    get(child(dbref, "People/" + findID.value))
            .then((snapshot)=>{
              if(snapshot.exists()){
                findName.innerHTML = "Name: " + snapshot.val().Name;
                findAge.innerHTML = "Age: " + snapshot.val().Age;
              } else {
                alert("No data found");
              }
            })
            .catch((error)=>{
              alert(error)
            })

  }


    const dbref = ref(db);

    get (child(dbref, "OIoXByEinqYrT9IJSorrlFLkev13/"))
            .then((snapshot)=>{
              if(snapshot.exists()){
                dataName.innerHTML = "name: " + snapshot.val().name;
                birthday.innerHTML = "birthday: " + snapshot.val().birthday;
                animal.innerHTML = "Favorite Animal: " + snapshot.val().animal;
                food.innerHTML = "Favorite Food: " + snapshot.val().food;

                image.src = snapshot.val().image;

              } else {
                alert("No data found");
              }
            })
            .catch((error)=>{
              alert(error)
            })





    get (child(dbref, "gY3Vbkh8yfVnAEa4mf7vuVgxxb83/"))
            .then((snapshot)=>{
              if(snapshot.exists()){
                dataName2.innerHTML = "name: " + snapshot.val().name;

                birthday2.innerHTML = "birthday: " + snapshot.val().birthday;
                animal2.innerHTML = "Favorite Animal: " + snapshot.val().animal;
                food2.innerHTML = "Favorite Food: " + snapshot.val().food;

                image2.src = snapshot.val().image;

              } else {
                alert("No data found");
              }
            })
            .catch((error)=>{
              alert(error)
            })








  function UpdateData(){
    update(ref(db, "People/"+ enterID.value),{
      Name: enterName.value,
      Age: enterAge.value
    })
            .then(()=>{
              alert("Data updated successfully");
            })
            .catch((error)=>{
              alert(error);
            });
  }

  function RemoveData(){
    remove(ref(db, "People/"+ enterID.value))
            .then(()=>{
              alert("Data deleted successfully");
            })
            .catch((error)=>{
              alert(error);
            });
  }

  insertBtn.addEventListener('click', InsertData);
  updateBtn.addEventListener('click', UpdateData);
  removeBtn.addEventListener('click', RemoveData);
  findBtn.addEventListener('click', FindData);

</script>
</body>
</html>
